<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Week 4 – PO33Q: Determinants of Democracy</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./05-PO33Q.html" rel="next">
<link href="./03-PO33Q.html" rel="prev">
<link href="./images/Crest_white.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-e2851886d12d134ff83effd9cfa02285.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<meta name="theme-color" content="#1d1f2b" media="(prefers-color-scheme: dark)">
<meta name="theme-color" content="#1d1f2b" media="(prefers-color-scheme: light)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<script>
// This MUST come before the script src above
window.MathJax = {
  tex: {
    // (Quarto already sets these, but harmless to repeat)
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]'], ['$$', '$$']]
  },
  // Tell the CHTML output to use Fira
  chtml: { font: 'mathjax-fira' }
};
</script>


<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/Crest_white.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title"><span class="title-long">PO33Q – Determinants of Democracy</span> <span class="title-short">PO33Q</span></span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://drflolinke.github.io/"> 
<span class="menu-text">Flo’s Home</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./04-PO33Q.html"><span class="chapter-title">Week 4</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-PO33Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 1</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-PO33Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 2</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-PO33Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 3</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-PO33Q.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">Week 4</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-PO33Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 5</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-PO33Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 7</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-PO33Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 8</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-PO33Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 9</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-PO33Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 10</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-Quarto.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Quarto</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-Downloads.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Downloads</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-Glossary.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Full Glossary</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14-bib.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">List of References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Week 4</h2>
   
  <ul>
  <li><a href="#road-map-for-today" id="toc-road-map-for-today" class="nav-link active" data-scroll-target="#road-map-for-today">Road Map for Today</a>
  <ul class="collapse">
  <li><a href="#learning-outcomes" id="toc-learning-outcomes" class="nav-link" data-scroll-target="#learning-outcomes">Learning Outcomes</a></li>
  </ul></li>
  <li><a href="#missing-data" id="toc-missing-data" class="nav-link" data-scroll-target="#missing-data">Missing Data</a>
  <ul class="collapse">
  <li><a href="#options-in-r" id="toc-options-in-r" class="nav-link" data-scroll-target="#options-in-r">Options in R</a></li>
  <li><a href="#methodological-implications" id="toc-methodological-implications" class="nav-link" data-scroll-target="#methodological-implications">Methodological Implications</a></li>
  </ul></li>
  <li><a href="#model-building" id="toc-model-building" class="nav-link" data-scroll-target="#model-building">Model Building</a>
  <ul class="collapse">
  <li><a href="#control-variables" id="toc-control-variables" class="nav-link" data-scroll-target="#control-variables">Control Variables</a></li>
  <li><a href="#literature-recommendations" id="toc-literature-recommendations" class="nav-link" data-scroll-target="#literature-recommendations">Literature Recommendations</a></li>
  </ul></li>
  <li><a href="#homework-for-week-5" id="toc-homework-for-week-5" class="nav-link" data-scroll-target="#homework-for-week-5">Homework for Week 5</a></li>
  <li><a href="#glossary" id="toc-glossary" class="nav-link" data-scroll-target="#glossary">Glossary</a></li>
  <li><a href="#flashcards" id="toc-flashcards" class="nav-link" data-scroll-target="#flashcards">Flashcards</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-title">Week 4</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="road-map-for-today" class="level1 unnumbered">
<h1 class="unnumbered">Road Map for Today</h1>
<div style="height:2em;">

</div>
<table style="border-collapse: collapse; width: 60%; margin-left: auto; margin-right: auto; table-layout: fixed;">
<tbody>
<!-- Lecture heading -->
<tr>
<td style="border-top: 3px double currentColor !important; border-bottom: none !important; font-weight: normal; padding: 8px;">
Lecture
</td>
</tr>
<!-- Indented subpoints until Break -->
<tr>
<td style="border: none !important; padding: 8px 8px 8px 24px;">
Why this again?
</td>
</tr>
<tr>
<td style="border: none !important; padding: 8px 8px 8px 24px;">
Missing Data
</td>
</tr>
<tr>
<td style="border: none !important; padding: 8px 8px 8px 24px;">
Conceptualisation of Socio-Economic Development
</td>
</tr>
<!-- Break -->
<tr>
<td style="border-top: 1px dashed currentColor !important; border-bottom: 1px dashed currentColor !important; padding: 8px;">
Break
</td>
</tr>
<!-- Presentations -->
<tr>
<td style="border: none !important; border-bottom: 3px double currentColor !important; padding: 8px;">
Student Presentations: Your Formative Assessment
</td>
</tr>
</tbody>
</table>
<div style="height:2em;">

</div>
<section id="learning-outcomes" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="learning-outcomes">Learning Outcomes</h2>
<p>After this week, students should be able to:</p>
<ul>
<li>Critically assess the conceptualisation and measurement of socio-economic development in the context of modernisation theory</li>
<li>Understand the implications of missing data</li>
<li>Apply strategies to deal with missing data</li>
<li>Apply different strategies in statistical modelling</li>
</ul>
</section>
</section>
<section id="missing-data" class="level1 unnumbered">
<h1 class="unnumbered">Missing Data</h1>
<section id="options-in-r" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="options-in-r">Options in R</h2>
<p>Missing data is a real problem in doing empirical research. What compounds this problem is that developing countries are more affected than developed ones. Ironically, we are more interested in developing countries in this module, and so this is going to become a real-life struggle for you over the coming weeks.</p>
<p>R has multiple ways in which to address missing data. We have already encountered the exclusion of missing values when using descriptive statistics within the <code>setx</code> function in Week 3, such as:</p>
<p>When we run regression models, for example through the function <code>lm</code>, R let’s you specify what you wish to do with observations (rows) that have missing values in them with the function <code>na.action</code>. This option has four logical options<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>:</p>
<ul>
<li><code>na.fail</code>: Stop if any missing values are encountered</li>
<li><code>na.omit</code>: Drop out any rows with missing values anywhere in them and forgets them forever.</li>
<li><code>na.exclude</code>: Drop out rows with missing values, but keeps track of where they were (so that when you make predictions, for example, you end up with a vector whose length is that of the original response.)</li>
<li><code>na.pass</code>: Take no action</li>
</ul>
<p>By default, R would apply <code>na.omit</code> which we call “<span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">listwise deletion</a></span>”. This means, that as soon as one value within an observation is missing, R drops that entire observation. This can potentially decimate the number of observations for analysis quite drastically! This in turn has implications for inference. Let me illustrate this.</p>
</section>
<section id="methodological-implications" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="methodological-implications">Methodological Implications</h2>
<p>In an ideal world, we would have a data set in which each value is present (indicated by the presence of an x in each of the cells of this table):</p>
<div style="height:1em;">

</div>
<div id="tbl-ideal" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<div aria-describedby="tbl-ideal-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="custom-html-table">
<table style="border-collapse: collapse; font-size: 90%; padding: 0; margin: 1em auto; width: 60%;">
<thead>
<tr>
<th style="padding: 0.2em; text-align: center;">
<strong>var1</strong>
</th>
<th style="padding: 0.2em; text-align: center;">
<strong>var2</strong>
</th>
<th style="padding: 0.2em; text-align: center;">
<strong>var3</strong>
</th>
<th style="padding: 0.2em; text-align: center;">
<strong>var4</strong>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
</tr>
<tr>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
</tr>
<tr>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
</tr>
<tr>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
</tr>
<tr>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
</tr>
<tr>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
</tr>
<tr>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
</tr>
<tr>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
</tr>
<tr>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
</tr>
</tbody>
</table>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-ideal-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: An Ideal World
</figcaption>
</figure>
</div>
<div style="height:1em;">

</div>
<p>Unfortunately, in the real world, we are much more likely to have a Swiss cheese, such as this:</p>
<div style="height:1em;">

</div>
<div id="tbl-real" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<div aria-describedby="tbl-real-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="custom-html-table">
<table style="border-collapse: collapse; font-size: 90%; padding: 0; margin: 1em auto; width: 60%;">
<thead>
<tr>
<th style="padding: 0.2em; text-align: center;">
<strong>var1</strong>
</th>
<th style="padding: 0.2em; text-align: center;">
<strong>var2</strong>
</th>
<th style="padding: 0.2em; text-align: center;">
<strong>var3</strong>
</th>
<th style="padding: 0.2em; text-align: center;">
<strong>var4</strong>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
</tr>
<tr>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
</tr>
<tr>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
</tr>
<tr>
<td style="padding: 0.2em; text-align: center;">
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
</td>
</tr>
<tr>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
</tr>
<tr>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
</tr>
<tr>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
</tr>
<tr>
<td style="padding: 0.2em; text-align: center;">
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
</tr>
<tr>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
</td>
</tr>
</tbody>
</table>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-real-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: The Real World
</figcaption>
</figure>
</div>
<div style="height:1em;">

</div>
<p>You will already have seen this when opening the data sets we are working with. In <a href="#fig-missing" class="quarto-xref">Figure&nbsp;<span>1</span></a>, for example, the variable <code>gdppc</code> only has three missing values, but <code>agri</code> is completely missing.</p>
<div style="height:1em;">

</div>
<div id="fig-missing" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-missing-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="files/Week 4/missingdata.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-missing-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Excerpt from the <code>world</code> data set
</figcaption>
</figure>
</div>
<p>If you ran a regression model that uses the variable <code>agri</code>, listwise deletion would delete all observations and you would end up with no model. Here, the amount of observations you would lose is obvious. But since different variables have missing values in different places, it is often not as obvious as that. Assume, for example that we wished to use all four variables in our Schematic in <a href="#tbl-left" class="quarto-xref">Table&nbsp;<span>3</span></a>. Even though the “missingness” problem looks much less pronounced than in the <code>agri</code> variable in the <code>world</code> data set (see <a href="#fig-missing" class="quarto-xref">Figure&nbsp;<span>1</span></a>), listwise deletion would ensure that we would only be left with two observations out of ten in our model:</p>
<div style="height:1em;">

</div>
<div id="tbl-left" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<div aria-describedby="tbl-left-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="custom-html-table">
<table style="border-collapse: collapse; font-size: 90%; padding: 0; margin: 1em auto; width: 60%;">
<thead>
<tr>
<th style="padding: 0.2em; text-align: center;">
<strong>var1</strong>
</th>
<th style="padding: 0.2em; text-align: center;">
<strong>var2</strong>
</th>
<th style="padding: 0.2em; text-align: center;">
<strong>var3</strong>
</th>
<th style="padding: 0.2em; text-align: center;">
<strong>var4</strong>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
</tr>
<tr>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
<td style="padding: 0.2em; text-align: center;">
x
</td>
</tr>
</tbody>
</table>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-left-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: What is left…
</figcaption>
</figure>
</div>
<div style="height:1em;">

</div>
<p>So what do you do when you find yourself in such a situation? An obvious answer would be to simply leave out a variable that has a high degree of missingness. This solution is flawed, however. If your theory tells you that the variable plays a role in measuring one of the concepts then leaving it out would create so-called omitted variable bias – a problem you really don’t want to have. A much better solution, therefore, is to use a proxy variable. Take <code>agri</code> as an example. It measures the percentage of GDP generated by agriculture, and would probably enter a statistical model to measure the transition of a traditional society (agricultural) to a modern, industrialised society. So, rather then measuring the move away from <code>agri</code>, you would also measure the transformation into industry. If you can find a variable measuring the percentage of GDP generated by the industry sector, and this variable has fewer observations missing, you could use it instead of <code>agri</code> and still be measuring the same thing.</p>
<p>Sometimes, it is not as straightforward as this, however, and you will have to resort to variables that have less measurement validity. Assume, for example, you want to measure the population’s ability to read. Then <code>literacy</code> from our data set would be an obvious choice. But sadly, it has a high number of observations missing. An alternative is primary gross enrolment (<code>enrol_gross</code>), as pupils learn to read and write in primary school. This variable does not measure the characteristic we are interested in as directly as <code>literacy</code>, but it would allow us to include more observations in our model. It is an art to balance measurement validity against the number of observations, there is no hard and fast rule to help you make this decision. But as long as you discuss and explain your reasoning in the assessment, you will be fine for this module – after all, you are only starting out on this.</p>
</section>
</section>
<section id="model-building" class="level1 unnumbered">
<h1 class="unnumbered">Model Building</h1>
<div class="video">
<p><strong>Model Building</strong></p>
<p>YouTube link to follow</p>
</div>
<p>When we are testing a theory, such as modernisation theory, then we usually have a plethora of independent variables to measure the concepts involved in that theory. Take economic development. In its origins, modernisation theory saw development almost purely as economic growth, a notion enshrined in what we refer to now as Classical Modernisation Theory. But as our understanding of what constitutes “development” has changed over time, so have the propositions of modernisation theory. <span class="citation" data-cites="diamond:1992">Diamond (1992)</span> made an important contribution to the literature by proposing that wealth, such as per capita GDP, really is only a means to facilitate social change, such as increasing education levels, allowing people to look after their health, etc. He posited that it is these social changes that facilitate democracy. Wealth is necessary, but it is only a first step.</p>
<p>Modernisation theory, therefore, can be seen as having two parts, the classical, and the new one. When you look at journal articles, you will notice that these parts are usually tested separately in regression models, first just the classical component, then just the social component, then both of them together. This bottom-up approach is an important strategy of <span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">model building</a></span> in regression analysis, as it allows us to isolate the explanatory power of not only each part of the theory, but also of individual variables.</p>
<p>Let me illustrate what I mean by this. First, we need to decide how to actually measure “economic development” and “social change”. There are a lot of options:</p>
<ul>
<li>Economic Development
<ul>
<li>GDP</li>
<li>Agricultural Land</li>
<li>Access to electricity</li>
<li>Mobile Phone Subscriptions</li>
<li>…</li>
</ul></li>
<li>Social Development
<ul>
<li>Education: literacy, primary completion rate, school enrolment, etc.</li>
<li>Health: life expectancy, tuberculosis incidents, health expenditure, etc.</li>
<li>…</li>
</ul></li>
</ul>
<p>Once we have selected our variables, we start by running bivariate models between each independent variable and democracy as the dependent variable. This gives us information if each variable is individually able to explain democracy, and if so, how well. Then we start to combine independent variables into multivariate models, to test different combinations. This will allow us to see if one independent variable might take explanatory power away from another, and as such explains democracy better. I have done this in the following table:</p>
<div class="cell">
<div id="tbl-reg4" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<div aria-describedby="tbl-reg4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_hvekssm1spuhpquroqiu(i, j, css_id) {
          var table = document.getElementById("tinytable_hvekssm1spuhpquroqiu");
          var cell = table.querySelector(`[data-row="${i}"][data-col="${j}"]`);
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function spanCell_hvekssm1spuhpquroqiu(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_hvekssm1spuhpquroqiu");
        const targetCell = table.querySelector(`[data-row="${i}"][data-col="${j}"]`);
        if (!targetCell) {
          console.warn(`Cell at (${i}, ${j}) not found.`);
        }

        // Get all cells that need to be removed
        const cellsToRemove = [];
        for (let r = 0; r < rowspan; r++) {
          for (let c = 0; c < colspan; c++) {
            if (r === 0 && c === 0) continue; // Skip the target cell
            const cell = table.querySelector(`[data-row="${i + r}"][data-col="${j + c}"]`);
            if (cell) {
              cellsToRemove.push(cell);
            }
          }
        }

        // Remove all cells
        cellsToRemove.forEach(cell => cell.remove());

        // Set rowspan and colspan of the target cell if it exists
        if (targetCell) {
          targetCell.rowSpan = rowspan;
          targetCell.colSpan = colspan;
        }
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '-1', j: 2 }, { i: '-1', j: 3 },  ], css_id: 'tinytable_css_t2y0nxoal4wmg77xlzc8',}, 
          { positions: [ { i: '6', j: 1 }, { i: '6', j: 2 }, { i: '6', j: 3 },  ], css_id: 'tinytable_css_eaxlxg4cphbetisx32cv',}, 
          { positions: [ { i: '1', j: 1 }, { i: '2', j: 1 }, { i: '4', j: 1 }, { i: '5', j: 1 }, { i: '2', j: 2 }, { i: '4', j: 2 }, { i: '1', j: 2 }, { i: '2', j: 3 }, { i: '3', j: 1 }, { i: '4', j: 3 }, { i: '5', j: 2 }, { i: '3', j: 2 }, { i: '1', j: 3 }, { i: '3', j: 3 }, { i: '5', j: 3 },  ], css_id: 'tinytable_css_7l0en0bq4q7zpcexwhi5',}, 
          { positions: [ { i: '-1', j: 1 },  ], css_id: 'tinytable_css_nma15b6tffkfbvoi18me',}, 
          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 },  ], css_id: 'tinytable_css_pumfocx1j8amjbdfma0e',}, 
          { positions: [ { i: '6', j: 0 },  ], css_id: 'tinytable_css_8ime3eyoknft8b5ug4vs',}, 
          { positions: [ { i: '1', j: 0 }, { i: '2', j: 0 }, { i: '3', j: 0 }, { i: '4', j: 0 }, { i: '5', j: 0 },  ], css_id: 'tinytable_css_sp9iu55p7nrvq4txxmkl',}, 
          { positions: [ { i: '-1', j: 0 },  ], css_id: 'tinytable_css_85fpzf8scppbj2mcyziy',}, 
          { positions: [ { i: '0', j: 0 },  ], css_id: 'tinytable_css_y2ueox2g0oa4n9zemegg',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_hvekssm1spuhpquroqiu(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_t2y0nxoal4wmg77xlzc8, .table th.tinytable_css_t2y0nxoal4wmg77xlzc8 { text-align: center; border-top: solid #d3d8dc 0.1em; text-align: center; }
      .table td.tinytable_css_eaxlxg4cphbetisx32cv, .table th.tinytable_css_eaxlxg4cphbetisx32cv { text-align: center; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_7l0en0bq4q7zpcexwhi5, .table th.tinytable_css_7l0en0bq4q7zpcexwhi5 { text-align: center; }
      .table td.tinytable_css_nma15b6tffkfbvoi18me, .table th.tinytable_css_nma15b6tffkfbvoi18me { text-align: center; border-top: solid #d3d8dc 0.1em; text-align: center; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_pumfocx1j8amjbdfma0e, .table th.tinytable_css_pumfocx1j8amjbdfma0e { text-align: center; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_8ime3eyoknft8b5ug4vs, .table th.tinytable_css_8ime3eyoknft8b5ug4vs { text-align: left; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_sp9iu55p7nrvq4txxmkl, .table th.tinytable_css_sp9iu55p7nrvq4txxmkl { text-align: left; }
      .table td.tinytable_css_85fpzf8scppbj2mcyziy, .table th.tinytable_css_85fpzf8scppbj2mcyziy { text-align: left; border-top: solid #d3d8dc 0.1em; text-align: center; }
      .table td.tinytable_css_y2ueox2g0oa4n9zemegg, .table th.tinytable_css_y2ueox2g0oa4n9zemegg { text-align: left; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_hvekssm1spuhpquroqiu" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
<tr>
<th scope="col" align="center" colspan="1" data-row="-1" data-col="0"> </th>
<th scope="col" align="center" colspan="3" data-row="-1" data-col="1">Dependent Variable:<br>Polity V</th>
</tr>
        
              <tr>
                <th scope="col" data-row="0" data-col="0"> </th>
                <th scope="col" data-row="0" data-col="1">Classical</th>
                <th scope="col" data-row="0" data-col="2">New</th>
                <th scope="col" data-row="0" data-col="3">Full</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="4">+ p &lt; 0.1, * p &lt; 0.1, ** p &lt; 0.05, *** p &lt; 0.01</td></tr></tfoot>
        <tbody>
                <tr>
                  <td data-row="1" data-col="0">per capita GDP</td>
                  <td data-row="1" data-col="1">0.000***</td>
                  <td data-row="1" data-col="2"></td>
                  <td data-row="1" data-col="3">0.000</td>
                </tr>
                <tr>
                  <td data-row="2" data-col="0"></td>
                  <td data-row="2" data-col="1">(0.000)</td>
                  <td data-row="2" data-col="2"></td>
                  <td data-row="2" data-col="3">(0.000)</td>
                </tr>
                <tr>
                  <td data-row="3" data-col="0">Life Expectancy</td>
                  <td data-row="3" data-col="1"></td>
                  <td data-row="3" data-col="2">0.186***</td>
                  <td data-row="3" data-col="3">0.123+</td>
                </tr>
                <tr>
                  <td data-row="4" data-col="0"></td>
                  <td data-row="4" data-col="1"></td>
                  <td data-row="4" data-col="2">(0.054)</td>
                  <td data-row="4" data-col="3">(0.067)</td>
                </tr>
                <tr>
                  <td data-row="5" data-col="0">Intercept</td>
                  <td data-row="5" data-col="1">2.466***</td>
                  <td data-row="5" data-col="2">-9.224*</td>
                  <td data-row="5" data-col="3">-5.449</td>
                </tr>
                <tr>
                  <td data-row="6" data-col="0"></td>
                  <td data-row="6" data-col="1">(0.592)</td>
                  <td data-row="6" data-col="2">(3.700)</td>
                  <td data-row="6" data-col="3">(4.366)</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-reg4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4: Test of Classical and New Modernisation
</figcaption>
</figure>
</div>
</div>
<p>As you can see, both per capita GDP and life expectancy can explain variation in the Polity V score in 2007 (Models 1 and 2, respectively). But when we combine the two in Model 3, per capita GDP loses its significance, whilst life expectancy retains (an admittedly lower level of) significance. In these three models, we have thus discovered evidence that <span class="citation" data-cites="diamond:1992">Diamond (1992)</span> was right: When we look at the role of per capita GDP and life expectancy simultaneously, life expectancy is able to explain democracy whilst per capita GDP is not.</p>
<p>How would you make use of this in the assessment? It goes without saying that you will have to run a lot of models to find such a story. But it would make little sense to overburden the reader of your assessment with all of these models (quite apart from constraints on your word count). Instead, you would only include in your assessment those regression models in the results tables which allow you to tell this story.</p>
<p>Note that in this case, I have also quite neatly tested both the classical and new approach to modernisation theory. Model 1 is classical modernisation, Models 2 and 3 test new modernisation theory. We have found evidence that new modernisation theory is more applicable in this scenario than classical modernisation.</p>
<section id="control-variables" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="control-variables">Control Variables</h2>
<p>The selection of independent variables MUST be guided by theory. After all, this is our purpose in running regression models: finding out whether a particular theory can explain an empirical phenomenon we are witnessing. If you select variables that are irrelevant to your theory, then the research design breaks down, as you are no longer focusing on testing your theory. I know it sounds trivial, but you would be surprised how many students mess this up in assessments.</p>
<p>But there is one – and only one – exception to the rule of not including variables that are not motivated by the theory you are testing: so-called <span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">control variables</a></span>.</p>
<p>For example, we suspect that the amount of official development aid (ODA) a country has received might influence democracy. Modernisation theory is only concerned with processes WITHIN a country, and so a flow of money coming from outside of the country is not part of the theory. Nonetheless, such funds can either facilitate development, in the sense of helping to build infrastructure such as roads, etc. Or it can be used for democracy promotion directly (the World Bank does tie some of its ODA funds to this purpose), through funding relevant institutions, facilitating elections, etc. So, even though these external funds have no place in our theory, we have strong reason to believe that they affect the dependent variable. And it is for this reason, that we would still include them in our regression model to control for their influence. Why? The principle of ceteris paribus (see Week 3) only applies with respect to those variables included in the model. And if we wish to control for ODA, or to purify those coefficients which are motivated by theory from the influence of ODA, we need to include this variable in the model in order to do so.</p>
<p>Even though I am presenting this here as the last step, you would realistically select these variables together with the ones motivated by the theory, as you will also have to perform conceptualisation and measurement, check data availability, etc.</p>
</section>
<section id="literature-recommendations" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="literature-recommendations">Literature Recommendations</h2>
<ul>
<li><a href="https://warwick.summon.serialssolutions.com/#!/search/document?pn=1&amp;ho=t&amp;include.ft.matches=f&amp;fvf=ContentType,Newspaper%20Article,t%7CContentType,Book%20Review,t&amp;l=en-UK&amp;q=fogarty%20social%20science&amp;id=FETCHMERGED-warwick_catalog_b396978733"><strong><span class="citation" data-cites="fogarty:2023">Fogarty (2023)</span></strong></a>: Chapter 11: Section “Multiple Regression and Model Building”</li>
<li><a href="https://warwick.summon.serialssolutions.com/#!/search/document?pn=1&amp;ho=t&amp;include.ft.matches=f&amp;fvf=ContentType,Newspaper%20Article,t%7CContentType,Book%20Review,t&amp;l=en-UK&amp;q=stinerock%20r&amp;id=FETCHMERGED-warwick_catalog_b396975143"><strong><span class="citation" data-cites="stinerock:2022">Stinerock (2022)</span></strong></a>: Section 13.11</li>
</ul>
</section>
</section>
<section id="homework-for-week-5" class="level1 unnumbered">
<h1 class="unnumbered">Homework for Week 5</h1>
<p><strong>Students as Learners:</strong></p>
<ul>
<li>Finish this week’s worksheet</li>
<li>Read the <a href="https://rl.talis.com/3/warwick/lists/E5FA4027-27A7-AFB0-AAF4-C891BCCD83E2.html#57640F31-C616-61B2-3A11-F68B351CB1A5">required literature for Week 5</a></li>
</ul>
<div style="height:1.5em;">

</div>
<p><strong>Students as Researchers:</strong></p>
<ul>
<li>Finish the research proposal (formative assessment)</li>
</ul>
</section>
<section id="glossary" class="level1 unnumbered">
<h1 class="unnumbered">Glossary</h1>
<p>&nbsp;</p>
<div class="glossary-table">
<div class="cell" data-tbl-colwidths="[25,75]">
<div id="tbl-glossary4" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-tbl-colwidths="[25,75]">
<figure class="quarto-float quarto-float-tbl figure">
<div aria-describedby="tbl-glossary4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="cell table table-sm table-striped small">
<colgroup>
<col style="width: 25%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Term</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">control variables</td>
<td style="text-align: left;">A variable that is held constant or included in a statistical model to account for its potential influence, allowing clearer estimation of the relationship between the main independent and dependent variables</td>
</tr>
<tr class="even">
<td style="text-align: left;">listwise deletion</td>
<td style="text-align: left;">When a value within an observation is missing, the entire observation is dropped</td>
</tr>
<tr class="odd">
<td style="text-align: left;">model building</td>
<td style="text-align: left;">Running a number of regression models, each testing a different combination of variables.</td>
</tr>
<tr class="even">
<td style="text-align: left;">parsimony</td>
<td style="text-align: left;">Refers to the principle “as many as necessary, as few as possible”</td>
</tr>
</tbody>
</table>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-glossary4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;5: Glossary Week 4
</figcaption>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
</section>
<section id="flashcards" class="level1 unnumbered">
<h1 class="unnumbered">Flashcards</h1>
<div class="flashcard">
<details>
<summary>
R Functions This Week
</summary>
<div style="padding-bottom:56.25%; position:relative; display:block; width: 100%">
<p><iframe width="100%" height="100%" src="files/flashcards/PO33Q_Week 4_All.html" frameborder="0" allowfullscreen="" style="position:absolute; top:0; left: 0"> </iframe></p>
</div>
<p>
&nbsp;
</p>
The data are available as a <a href="files/excelfiles/PO33Q_Week 4_All.csv">.csv file</a>.
</details>
</div>
<div class="flashcard">
<details>
<summary>
All R Functions So Far
</summary>
<div style="padding-bottom:56.25%; position:relative; display:block; width: 100%">
<p><iframe width="100%" height="100%" src="files/flashcards/PO33Q_Week 4_Consolidate.html" frameborder="0" allowfullscreen="" style="position:absolute; top:0; left: 0"> </iframe></p>
</div>
<p>
&nbsp;
</p>
The data are available as a <a href="files/excelfiles/PO33Q_Week 4_Consolidate.csv">.csv file</a>.
</details>
</div>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list" style="display: none">
<div id="ref-diamond:1992" class="csl-entry" role="listitem">
Diamond, L. (1992). <span class="nocase">Economic Development and Democracy Reconsidered</span>. <em><span>American Behavioral Scientist</span></em>, <em>35</em>(4/5), 450–499. <a href="https://doi.org/10.1177/000276429203500407">https://doi.org/10.1177/000276429203500407</a>
</div>
<div id="ref-fogarty:2023" class="csl-entry" role="listitem">
Fogarty, B. J. (2023). <em><span>Quantitative Social Science Data With R</span></em> (Second Edition). Thousand Oaks, <span>CA</span>: Sage.
</div>
<div id="ref-stinerock:2022" class="csl-entry" role="listitem">
Stinerock, R. (2022). <em><span class="nocase">Statistics with R – A Beginner’s Guide</span></em> (Second Edition). Thousand Oaks, <span>CA</span>: Sage.
</div>
</div>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>https://faculty.nps.edu/sebuttre/home/R/missings.html<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const buttons = document.querySelectorAll(".delayed-download");

    buttons.forEach(function (btn) {
      const releaseDate = new Date(btn.dataset.date);
      const now = new Date();

      if (now >= releaseDate) {
        btn.classList.remove("disabled");
        btn.setAttribute("aria-disabled", "false");
        btn.setAttribute("href", btn.dataset.path);
        btn.setAttribute("download", btn.dataset.path.split('/').pop());
        btn.innerHTML = btn.dataset.label || "📄 Download Document";
      }
    });
  });
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/drflolinke\.github\.io\/PO33Q\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./03-PO33Q.html" class="pagination-link" aria-label="Week 3">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">Week 3</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./05-PO33Q.html" class="pagination-link" aria-label="Week 5">
        <span class="nav-page-text"><span class="chapter-title">Week 5</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>