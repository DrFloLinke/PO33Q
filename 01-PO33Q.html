<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Week 1 – PO33Q: Determinants of Democracy</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./02-PO33Q.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-7c884608bb88d9d23eddf9360d6659a5.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<meta name="theme-color" content="#1d1f2b" media="(prefers-color-scheme: dark)">
<meta name="theme-color" content="#1d1f2b" media="(prefers-color-scheme: light)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<script>
// This MUST come before the script src above
window.MathJax = {
  tex: {
    // (Quarto already sets these, but harmless to repeat)
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]'], ['$$', '$$']]
  },
  // Tell the CHTML output to use Fira
  chtml: { font: 'mathjax-fira' }
};
</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-chtml-nofont.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/Crest_white.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title"><span class="title-long">PO33Q – Determinants of Democracy</span> <span class="title-short">PO33Q</span></span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://drfloreiche.github.io/"> 
<span class="menu-text">Flo’s Home</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01-PO33Q.html"><span class="chapter-title">Week 1</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-PO33Q.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">Week 1</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-PO33Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 2</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-PO33Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 3</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-PO33Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 4</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-PO33Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 5</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-PO33Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 7</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-PO33Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 8</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-PO33Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 9</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-PO33Q.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 10</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-Quarto.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Quarto</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-Downloads.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Downloads</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-Glossary.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Full Glossary</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14-bib.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">List of References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#road-map-for-today" id="toc-road-map-for-today" class="nav-link active" data-scroll-target="#road-map-for-today">Road Map for Today</a>
  <ul class="collapse">
  <li><a href="#learning-outcomes" id="toc-learning-outcomes" class="nav-link" data-scroll-target="#learning-outcomes">Learning Outcomes</a></li>
  </ul></li>
  <li><a href="#introduction-to-r" id="toc-introduction-to-r" class="nav-link" data-scroll-target="#introduction-to-r">Introduction to R</a>
  <ul class="collapse">
  <li><a href="#how-data-are-organised" id="toc-how-data-are-organised" class="nav-link" data-scroll-target="#how-data-are-organised">How Data are organised</a></li>
  <li><a href="#r-rstudio-installation" id="toc-r-rstudio-installation" class="nav-link" data-scroll-target="#r-rstudio-installation">R &amp; RStudio – Installation</a></li>
  <li><a href="#r---getting-started" id="toc-r---getting-started" class="nav-link" data-scroll-target="#r---getting-started">R - Getting Started</a></li>
  <li><a href="#rscript" id="toc-rscript" class="nav-link" data-scroll-target="#rscript">RScript</a>
  <ul class="collapse">
  <li><a href="#rscript-structure" id="toc-rscript-structure" class="nav-link" data-scroll-target="#rscript-structure">RScript Structure</a></li>
  </ul></li>
  <li><a href="#first-steps-in-r" id="toc-first-steps-in-r" class="nav-link" data-scroll-target="#first-steps-in-r">First Steps in R</a></li>
  <li><a href="#the-working-directory" id="toc-the-working-directory" class="nav-link" data-scroll-target="#the-working-directory">The Working Directory</a></li>
  <li><a href="#r-packages" id="toc-r-packages" class="nav-link" data-scroll-target="#r-packages">R Packages</a></li>
  <li><a href="#working-with-your-data-set" id="toc-working-with-your-data-set" class="nav-link" data-scroll-target="#working-with-your-data-set">Working with Your Data Set</a>
  <ul class="collapse">
  <li><a href="#opening" id="toc-opening" class="nav-link" data-scroll-target="#opening">Opening</a></li>
  <li><a href="#viewing-the-data" id="toc-viewing-the-data" class="nav-link" data-scroll-target="#viewing-the-data">Viewing the Data</a></li>
  <li><a href="#variable-types-in-r" id="toc-variable-types-in-r" class="nav-link" data-scroll-target="#variable-types-in-r">Variable Types in R</a></li>
  <li><a href="#descriptive-statistics" id="toc-descriptive-statistics" class="nav-link" data-scroll-target="#descriptive-statistics">Descriptive Statistics</a></li>
  </ul></li>
  <li><a href="#data-manipulation" id="toc-data-manipulation" class="nav-link" data-scroll-target="#data-manipulation">Data Manipulation</a>
  <ul class="collapse">
  <li><a href="#recoding" id="toc-recoding" class="nav-link" data-scroll-target="#recoding">Recoding</a></li>
  <li><a href="#saving" id="toc-saving" class="nav-link" data-scroll-target="#saving">Saving</a></li>
  </ul></li>
  <li><a href="#the-real-data-set" id="toc-the-real-data-set" class="nav-link" data-scroll-target="#the-real-data-set">The Real Data Set</a></li>
  <li><a href="#book-recommendations" id="toc-book-recommendations" class="nav-link" data-scroll-target="#book-recommendations">Book Recommendations</a></li>
  </ul></li>
  <li><a href="#homework-for-week-2" id="toc-homework-for-week-2" class="nav-link" data-scroll-target="#homework-for-week-2">Homework for Week 2</a></li>
  <li><a href="#glossary" id="toc-glossary" class="nav-link" data-scroll-target="#glossary">Glossary</a></li>
  <li><a href="#flashcards" id="toc-flashcards" class="nav-link" data-scroll-target="#flashcards">Flashcards</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-title">Week 1</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="road-map-for-today" class="level1 unnumbered">
<h1 class="unnumbered">Road Map for Today</h1>
<div style="height:2em;">

</div>
<table style="border-collapse: collapse; width: 60%; margin-left: auto; margin-right: auto; table-layout: fixed;">
<tbody>
<tr>
<td style="border-top: 3px double currentColor !important; border-bottom: none !important; padding: 8px;">
Introductions
</td>
</tr>
<tr>
<td style="border: none !important; padding: 8px;">
Lecture
</td>
</tr>
<tr>
<td style="border: none !important; padding: 8px 8px 8px 24px;">
Module Outline
</td>
</tr>
<tr>
<td style="border: none !important; padding: 8px 8px 8px 24px;">
Assessment
</td>
</tr>
<tr>
<td style="border: none !important; padding: 8px 8px 8px 24px;">
What is Comparative Politics?
</td>
</tr>
<tr>
<td style="border: none !important; padding: 8px 8px 8px 24px;">
The Comparative Method
</td>
</tr>
<tr>
<td style="border: none !important; padding: 8px 8px 8px 24px;">
The Stages of a Research Project
</td>
</tr>
<tr>
<td style="border-top: 1px dashed currentColor !important; border-bottom: 1px dashed currentColor !important; padding: 8px;">
Break
</td>
</tr>
<tr>
<td style="border: none !important; border-bottom: 3px double currentColor !important; padding: 8px;">
Introduction to R
</td>
</tr>
</tbody>
</table>
<div style="height:2em;">

</div>
<section id="learning-outcomes" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="learning-outcomes">Learning Outcomes</h2>
<p>After this week, students should be able to:</p>
<ul>
<li>Explain the role of comparative politics within political science</li>
<li>Apply the comparative method</li>
<li>Describe the stages of a research project</li>
<li>Perform introductory data management and variable transformation in R</li>
</ul>
</section>
</section>
<section id="introduction-to-r" class="level1 unnumbered">
<h1 class="unnumbered">Introduction to R</h1>
<section id="how-data-are-organised" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="how-data-are-organised">How Data are organised</h2>
<p>I have put a little sample <span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">data set</a></span> together for you which you can see here:</p>
<div id="fig-excel" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-excel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="files/Week 1/excel.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:38.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-excel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Sample Data Set
</figcaption>
</figure>
</div>
<p>Data such as these are known as <span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">secondary data</a></span>, as they have been collected by somebody else. In this case by the World Bank. The data presented here are also known as <span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">cross-sectional data</a></span>, as they look at different units (here countries) at a single point in time. I will introduce you to time-series data in Week 7.</p>
<p>Each column represents a <span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">variable</a></span>, the first one country names, and the second per capita GDP in 2015. Each row represents an observation, in our case an individual country. The meeting point between the variable and the observation is a particular value. So for example, in <a href="#fig-excel" class="quarto-xref">Figure&nbsp;<span>1</span></a> the GDP (second column) of the third country (row) is $ 5792 (cell). You see in the first row the names of the variables. Always make these short and sweet, but especially telling. Don’t go for something like “x4_st”, or “fubar”, as nobody (including yourself after a little while) will have any clue what this is.</p>
</section>
<section id="r-rstudio-installation" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="r-rstudio-installation">R &amp; RStudio – Installation</h2>
<p>Now we are ready to start working with R. The first step is to install the program. Please follow these instructions:</p>
<ol type="1">
<li>Go to https://cran.r-project.org/mirrors.html and select a server from which you want to download R. It is convention to do this from the server which is nearest to you. Follow on-screen instructions and install the program.</li>
<li>Go to https://rstudio.com/products/rstudio/download/ and download RStudio Desktop which is free. Install the program.</li>
<li>Now open RStudio.</li>
</ol>
<div class="bulb">
<p>Whilst you need to install both R and RStudio, we will never be working with R directly. Instead, we will be operating it through RStudio.</p>
</div>
</section>
<section id="r---getting-started" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="r---getting-started">R - Getting Started</h2>
<p>In this companion I am using two different fonts:</p>
<ul>
<li>Font for plain text</li>
<li><code>A typewriter font for R functions, values, etc.</code></li>
</ul>
<p>Let’s have a look at RStudio itself. When you open the programme, you are presented with the following screen:</p>
<div id="fig-RStudio" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-RStudio-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="files/Week 1/RStudio.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-RStudio-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: RStudio
</figcaption>
</figure>
</div>
<p>It has – for now – three components to it. On the left hand-side you see the so-called “Console” into which you can enter the commands, and in which also most of the results will be displayed. On the right hand side, you see the “Workspace” which consists of an upper and a lower window. The upper window has three tabs in it. The tab “Environment” will provide you with a list of all the data sets you have loaded into R, and also of the objects and values you create (more on that later). Under the “History” tab, you find a history (I know, who would have thought it) of all the commands you have used. This can be very useful to retrace your steps. In the “Connections” tab you can connect to online sources. We will not use this tab.</p>
<p>In the lower window, you have five tabs. Under “Files” you find the file structure of your computer. Once you have set a working directory (more on that in a moment), you can also view the files in your working directory here which gives you a good overview of the files you need to refer to for a particular project. The “Plots” tab will display the graphs we will be producing. “Packages” form the heart and soul of R and they make the program as powerful as it is (again, more on that later). RStudio also has a “Help” function, which is rarely very illuminating. I usually search for stuff online on “stackexchange”, as there is a large community of R users out there who share their knowledge and solutions to problems. We won’t use the last tab “Viewer”.</p>
<div class="video">
<p><strong>Introduction to R Studio</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/D7p2OXwBur8?si=ECd7It03IArA6_BP" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="">
</iframe>
</div>
</section>
<section id="rscript" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="rscript">RScript</h2>
<p>If you read the previous section carefully, you will have noticed that I wrote that you <em>can</em> enter the commands in the Console. You can, but you shouldn’t. What you should be using instead is an RScript. An RScript is a list of commands you use for a project (an essay, your dissertation, an article) to calculate quantities of interest, such as descriptive statistics in the form of mean, median and mode, and produce graphs.</p>
<p>One of the foundations of scientific research is “reproducibility” or “replicability”. This means that “sufficient information exists with which to understand, evaluate, and build upon a prior work if a third party could replicate the results without any additional information from the author.” <span class="citation" data-cites="king:1995">(King, 1995, p. 444, emphasis removed)</span> This principle applies in academia more generally, because only if you understand what a person has done before you, you can pick their work up where they left it, and push the boundaries of knowledge further. But a bit closer to home, it is also relevant for conducting quantitative research in assessments. We require you to submit an RScript (or a “do file” if you use Stata) now together with your actual essay. This is not only to check what you have done; data preparation is often the most time-consuming part (as you will soon discover), and this is a way to gain recognition for this work. So it is actually to your advantage, and not a mere plagiarism check.</p>
<p>The creation of an RScript will allow you to open the raw data, and by running the script, to bring it to exactly where you left off. This saves you saving data sets which can take up a lot of space. If you back the script up properly, you also have an insurance against losing all your work a day before the assessment is due.</p>
<p>To create an RScript, click File → New File → RScript. A fourth window opens, and your screen will now look something like this:</p>
<div id="fig-RScript" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-RScript-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="files/Week 1/rscript.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-RScript-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: The RScript Window
</figcaption>
</figure>
</div>
<p>You can now write your commands in the RScript, where a new line (for now) means a new command. If you want to execute a command, put the cursor on the line the command is on and press “command” / “enter” simultaneously on a Mac and “Ctrl” / “Enter” on Windows.</p>
<p>If you precede a line with <code>#</code>, you can write annotations to yourself, for example explaining what you do with a particular command. More on this in the next sub-section.</p>
<p><a href="#fig-RScriptex" class="quarto-xref">Figure&nbsp;<span>4</span></a> shows the start of the RScript for this worksheet. I prefer a dark background, it’s easier on the eyes, especially when you work with R for long periods. You can change the settings in: Tools → Global Options → Appearance → Twilight.</p>
<div id="fig-RScriptex" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-RScriptex-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="files/Week 1/RScript_example.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-RScriptex-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Example of an RScript
</figcaption>
</figure>
</div>
<div class="bulb">
<p><strong>More Themes</strong></p>
<p>If you copy and paste the following code chunks into your “Console” and run one at a time, you will have even more themes<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> to choose from:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"rsthemes"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">repos =</span> <span class="fu">c</span>(<span class="at">gadenbuie =</span> <span class="st">'https://gadenbuie.r-universe.dev'</span>, <span class="fu">getOption</span>(<span class="st">"repos"</span>))</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<section id="rscript-structure" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="rscript-structure">RScript Structure</h3>
<p>Well, I am German, and I like things neat and tidy, so I feel almost compelled to discuss how to properly organise an RScript. But apart from genetical dispositions, a well-organised RScript is also very much in the spirit of reproducibility. It simply makes sense to structure an RScript in such a way that another researcher is able to easily read and understand it.</p>
<p>First of all, which commands to include? If you introduce me to your current girlfriend or boyfriend, I have no interest in learning about all your past relationships; they have not worked out. In a similar fashion, nobody wants to read through lines of code that are irrelvant. So you will only include in the RScript those commands which produce the output you actually include in the essay or article.</p>
<p>I stated above that if you precede a line with #, you can write annotations to yourself. This is also a useful way to structure an RScript, for example into exercise numbers, sections of an essay /article, or different stages of data preparation (which we will be doing in due course).</p>
<div class="warning">
<p>Since you know how to write in an RScript now, avoid using the “Console” to write your code. Only write in the RScript.</p>
</div>
<div class="video">
<p><strong>RScript Structure</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/kmXRoQYiktk?si=LCooa7grSIw7vE5L" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="">
</iframe>
</div>
</section>
</section>
<section id="first-steps-in-r" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="first-steps-in-r">First Steps in R</h2>
<p>But enough of the preliminary talk, let’s get started in R. In principle, you can think of R as a massive and powerful calculator. So I will use it as such to start of with. If you want to know what the sum of 5 and 3 is, you type (in the RScript, not the Console):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span><span class="sc">+</span><span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>and press “command” / “enter” (or “Ctrl” / “enter” if you are on Windows). In everything that is to follow, commands will be shown in their own individual boxes. These have a clipboard button on the right, so you can copy and paste the code into your own RScript. The output is presented in a separate box directly underneath. There is no clipboard button, as R will render this result in your own console when you run the code. So, including the result, the calculation would look like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span><span class="sc">+</span><span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
</div>
<p>where the [1] indicates that the 8 is the first component of the result. In this case, we only have one component, so it’s superfluous really, but we will soon encounter situations in which results can have a number of different items. Note that the result of this operation is displayed in the “Console”, even if you write this in the RScript above.</p>
<div class="bulb">
<p>You can copy the code from this page by clicking the clipboard in the top-right hand corner. You can then paste it into your RScript.</p>
</div>
<p>A fundamental component of R is objects. You can define an object by way of a reversed arrow, and you can assign values, characters, or functions to them. If we want to assign the sum of 5 and 3 to an object called <code>result</code>, for example, we call<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="dv">5</span><span class="sc">+</span><span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If we now call the object, R will return its value, 8.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>result</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
</div>
</section>
<section id="the-working-directory" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="the-working-directory">The Working Directory</h2>
<p>It is imperative that you create a suitable filing system to organise the materials for all of your modules. At the very least you should have a folder called “University” or similar, in which you have a sub-folder for each module you take.</p>
<p>In those modules in which you are working with R, you need to extend this system a little. I have created a schematic of what I have in mind in <a href="#fig-folder" class="quarto-xref">Figure&nbsp;<span>5</span></a>.</p>
<div id="fig-folder" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-folder-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="files/Week 1/filestructure.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-folder-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Folder Structure
</figcaption>
</figure>
</div>
<p>You see that there is a sub-folder for each week of the module, and that each of these folders is divided into lecture and seminar in turn. Into these you can place the lecture and seminar materials, respectively. Create this system now for PO33Q.</p>
<p>R works with so-called “Working Directories”. You can think of these as drawers from which R takes everything it needs to conduct the analysis (such as the data set), and into which it puts everything it produces (such as graph plots). As this will be an R-specific drawer within the seminar, create yet another sub-folder in your seminar folder, and call it something suitable, such as “PO33QQ_Seminar_Week 1”. Do <em>NOT</em> call this “Working Directory”, as you will have many of those, rendering this name completely meaningless.</p>
<div class="warning">
<p>Please set up this structure now. If I find you using a random folder on your desktop named “working directory” in the coming weeks, I am going to implode! I mean it.</p>
</div>
<p>Now we need to tell R to use this folder. If you know the file structure of your computer you can simply use the <code>setwd()</code> command, and enter the path. Here is an example from my computer:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"~/Warwick/Modules/PO33Q/Week 1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you don’t know the file structure of your computer, then you can click Session → Set Working Directory → Choose Directory.</p>
<div class="video">
<p><strong>Working Directory</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ZpWWnTSAfTU?si=fi9Zn304zv26nzB5" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="">
</iframe>
</div>
</section>
<section id="r-packages" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="r-packages">R Packages</h2>
<p>It would be difficult to overstate the importance of packages in R. The program has a number of “base” functions which enable the user to do many different basic things, but packages are extensions that allow you to do pretty much anything and everything with this software - this is one of the reasons why I love it so much. The first package we need to use will enable us to load an Excel sheet into R. It is called <code>readxl</code>. You can install any package with the command <code>install.packages()</code> where the package name goes, wrapped in quotation marks, into the brackets:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"readxl"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can then load this package into our library with the <code>library()</code> command.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="bulb">
<p>Once you close R at the end of a session, the library will be reset. When you reopen R, you have to load the packages you require again. But you do not have to install them again.</p>
</div>
</section>
<section id="working-with-your-data-set" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="working-with-your-data-set">Working with Your Data Set</h2>
<section id="opening" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="opening">Opening</h3>
<p>We are now ready to open the data set in R - where it is called a “data frame”. First, download the <a href="files/Week 1/example.xlsx">Example</a> data set (also available in the <a href="https://drfloreiche.github.io/PO33Q/12-Downloads.html">Downloads Section</a>) and place it into the current working directory. To load it into R, we create a new object <code>example</code>, and ask R to read “Sheet 1 of the Excel file”example.xlsx”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>example <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"Week 1/example.xlsx"</span>, <span class="at">sheet=</span><span class="st">"Sheet1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="video">
<p><strong>Loading the Data Set</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/MCScLgUH3x4?si=_kbSBL-s7cSCMouY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="">
</iframe>
</div>
<div class="warning">
<p>Please do not use the “Import Dataset” button in the Environment, but do this properly, manually. We sometimes need to set options for importing data sets, and the “pointy, clicky” approach won’t be able to offer you what you need.</p>
</div>
<p>We can now use our data in R!</p>
</section>
<section id="viewing-the-data" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="viewing-the-data">Viewing the Data</h3>
<p>In the present case, you know what the data look like, but very often when you use secondary data sets, you don’t. So it’s a good idea to view the data frame before doing anything with it. To view the data frame in a way you might be familiar with from Excel (even though you cannot edit this in the same way). apply the <code>View()</code> command.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(example)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you only want to see the first 6 observations of each variable, use the <code>head()</code> command:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(example)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  country   gdp
  &lt;chr&gt;   &lt;dbl&gt;
1 China   13571
2 Germany 44187
3 India    5792
4 UK      38865
5 US      52704
6 Zambia   3602</code></pre>
</div>
</div>
<p>If you simply want to know the variable names in the data frame, type:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(example)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "country" "gdp"    </code></pre>
</div>
</div>
<p>The next one is a very important command, because it reveals not only the variable names and their first few observations, but also the nature of each variable (numerical, character, etc.). It is the <code>str()</code> command, where “str” stands for structure:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(example)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [6 × 2] (S3: tbl_df/tbl/data.frame)
 $ country: chr [1:6] "China" "Germany" "India" "UK" ...
 $ gdp    : num [1:6] 13571 44187 5792 38865 52704 ...</code></pre>
</div>
</div>
</section>
<section id="variable-types-in-r" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="variable-types-in-r">Variable Types in R</h3>
<p>You have seen in the output of the <code>str()</code> command that R distinguishes between a number of different variable types. Here is a broad overview of the variable types, so that you know which descriptive statistics you can calculate, or into which variable type you need to recode (next step) to achieve what you want. There are two general types:</p>
<ol type="1">
<li><code>numeric</code> – numbers, <span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">continuous</a></span></li>
<li><code>character</code> (also called string) – letters</li>
</ol>
<p>Within <code>numeric</code> we can distinguish between the following:</p>
<ul>
<li><code>factor</code> - nominal variable, <span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">categorical</a></span></li>
<li><code>ordered factor</code> - ordinal variable, <span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">categorical</a></span></li>
<li><code>integer</code> - numeric, but only “whole” numbers (<span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">discrete</a></span>)</li>
<li><code>numeric</code> - any number (interval or ratio scales)</li>
</ul>
<div class="puzzle">
<p>If you are unfamiliar with measurement scales, then please look these up before proceeding.</p>
</div>
</section>
<section id="descriptive-statistics" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="descriptive-statistics">Descriptive Statistics</h3>
<p>Quite a large number of <span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">descriptive statistics</a></span> can be calculated. For example:</p>
<ul>
<li><span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">Mean</a></span></li>
<li><span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">Median</a></span></li>
<li><span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">Mode</a></span></li>
<li><span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">Range</a></span></li>
<li><span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">Standard Deviation</a></span></li>
<li><span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">Variance</a></span></li>
</ul>
<div class="video">
<p><strong>Calculating a Mean</strong></p>
<p>YouTube link to follow</p>
</div>
<div class="video">
<p><strong>Standard Deviation</strong></p>
<p>YouTube link to follow</p>
</div>
<div class="puzzle">
<p>If any of the other terms don’t mean anything to you beyond having heard the term before, please look these up.</p>
</div>
<p>They are a lot of effort to calculate by hand, especially for larger data sets, but R can do these with a few intuitive commands. If we want to refer to a particular column in R (which is equivalent to a variable), then we need to specify the data frame within which the variable is located, followed by a $ sign and then the variable name. Schematically, this would look be written as <code>dataframe$variable</code>.</p>
<p>With this information to hand, we can calculate the mean of the variable <code>gdp</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(example<span class="sc">$</span>gdp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 26453.5</code></pre>
</div>
</div>
<p>Then the median:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(example<span class="sc">$</span>gdp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 26218</code></pre>
</div>
</div>
<p>Mean, median, and also mode (the most frequently occurring value) are all measures of centrality, but centrality alone does not adequately describe a distribution. You can think of two scenarios, in both we have two people in a group and we are trying to describe their age. In group one we have one person who is 50 years old, and one who is 52 years old. Average age = 51. In the second group we have a toddler aged 2, and a very old person aged 100. Same average, but a very different distribution of age. Schematically you can see this in <a href="#fig-distribution" class="quarto-xref">Figure&nbsp;<span>6</span></a> where two distributions have the same mean, median and mode, but their spread is quite different.</p>
<div id="fig-distribution" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-distribution-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/Week 1/two_distributions.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-distribution-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Distributions with different Standard Deviations
</figcaption>
</figure>
</div>
<p>Therefore, we also need to look at the variability of a variable to adequately describe it. Again, there are quite a few measures available. First up is the range; you can either calculate this with two commands by finding out the minimum and maximum separately, or just ask R to give you the range straight away:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(example<span class="sc">$</span>gdp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3602</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(example<span class="sc">$</span>gdp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 52704</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(example<span class="sc">$</span>gdp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  3602 52704</code></pre>
</div>
</div>
<p>The standard deviation is rather long-winded to calculate by hand, but the R command is short and sweet:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(example<span class="sc">$</span>gdp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 21319.75</code></pre>
</div>
</div>
<p>The variance is the squared standard deviation, but you can calculate it with its own command in R, too:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(example<span class="sc">$</span>gdp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 454531709</code></pre>
</div>
</div>
<p>You can get information on the <span class="gls"><a href="https://drfloreiche.github.io/PO33Q/13-Glossary.html">quartiles</a></span> (these are also measures of spread), the mean, as well as the minimum and maximum of a variable through one, simple command:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(example<span class="sc">$</span>gdp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   3602    7737   26218   26454   42856   52704 </code></pre>
</div>
</div>
</section>
</section>
<section id="data-manipulation" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="data-manipulation">Data Manipulation</h2>
<section id="recoding" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="recoding">Recoding</h3>
<p>When conducting quantitative research, variables will rarely come in the format in which you require them to be. I have been kind and reshaped all data you will be using for this module already. Nonetheless, you might come into a position in which you need to recode a variable, and here is how to do it.</p>
<p>The process is a little more involved, and requires a new package to be installed and loaded: <code>dplyr</code>. This package is part of the so-called <code>tidyverse</code> which is a suite of packages designed to make working with R simpler and commands shorter. You can install all of them by calling <code>install.packages("tidyverse")</code>. Let’s go all out with the <code>tidyverse</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now we can recode. Let’s say we want to create a new variable with two categories: low income and high income, where the cut-off sits at $ 20,000. The command to do this takes a little explaining. We start by stating the dataframe we wish to work with, <code>example</code>. The symbol which follows, <code>%&gt;%</code>, reads as “and then”, and is called a “pipe”. So we take the data frame <code>example</code> “and then” carry out a function called <code>mutate</code>. This function in turn creates a new variable <code>gdpcat</code> by recoding the variable <code>gdp</code>. It does so by cutting up the original variable into two sections, the first reaching from 0 to 20,000, and the second for values higher than 20,0000. We will call the first section <code>low</code> and the second <code>high</code>. These are the labels of the new categorical variable <code>gdpcat</code>. As there is an order in these categories, I have aded the function <code>order()</code> to turn what would otherwise be a nominal into an ordinal variable. The last step is then to assign this newly created variable <code>gdpcat</code> to our data frame <code>example</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>example <span class="sc">%&gt;%</span> </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gdpcat=</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">ordered</span>(</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">cut</span>(gdp, <span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">20000</span>, <span class="cn">Inf</span>), </span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"low"</span>,<span class="st">"high"</span>)))) <span class="ot">-&gt;</span> example</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="bulb">
<p>Make a habit of adding a note underneath each of the more complex code chunks in your RScript (preceded with a <span style="color:black"><code>#</code></span>) in which you translate the code into plain English.</p>
</div>
<p>Let us now check the structure of the new variable to make sure that we have done everything correctly.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(example<span class="sc">$</span>gdpcat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Ord.factor w/ 2 levels "low"&lt;"high": 1 2 1 2 2 1</code></pre>
</div>
</div>
<p>In my case all looks fine - make sure yours looks the same.</p>
<div class="video">
<p><strong>Recoding a Factor Variable</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/9_5IeNL3VP8?si=xVrgNuWG0L9kDZNo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="">
</iframe>
</div>
</section>
<section id="saving" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="saving">Saving</h3>
<p>Please save the Rscript into the same folder (working directory) as the raw data. When R asks before closing, there is no need to save the worksheet or the data, as running the RScript on the raw data will bring you precisely to where you left off.</p>
</section>
</section>
<section id="the-real-data-set" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="the-real-data-set">The Real Data Set</h2>
<p>Download the <code>world.csv</code> data set from the <a href="https://drfloreiche.github.io/PO33Q/12-Downloads.html">Downloads Section</a> and place it into the current working directory.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>world <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Week 1/world.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The data are taken from <span class="citation" data-cites="worldbank:2024">The World Bank (n.d.)</span>, <span class="citation" data-cites="boix:2022">Miller et al. (2022)</span>, and <span class="citation" data-cites="marshall:2020">Marshall &amp; Gurr (2020)</span>. <a href="#tbl-wdi-codebook" class="quarto-xref">Table&nbsp;<span>1</span></a> provides a full code book, but you can also download it <a href="files/Week 1/PO33Q_Codebook.pdf">in pdf format here</a>.</p>
<div class="custom-html-table">
<div class="cell">
<div id="tbl-wdi-codebook" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<div aria-describedby="tbl-wdi-codebook-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">variable</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">label</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">countrycode</td>
<td style="text-align: left;">Country Code</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">country</td>
<td style="text-align: left;">Country Name</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">year</td>
<td style="text-align: left;">Year</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">polity5</td>
<td style="text-align: left;">Combined Polity V Score</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">democracy</td>
<td style="text-align: left;">0 = Autocracy, 1 = Democracy (Boix et al., 2018)</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">gdppc</td>
<td style="text-align: left;">GDP per capita (current US Dollars)</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">enrol_gross</td>
<td style="text-align: left;">School enrollment, primary (% gross)</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">primcomp</td>
<td style="text-align: left;">Primary completion rate (% of relevant age group)</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">primcom_male</td>
<td style="text-align: left;">Primary completion rate, male (% of relevant age group)</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">primcom_fem</td>
<td style="text-align: left;">Primary completion rate, female (% of relevant age group)</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">enrol_net</td>
<td style="text-align: left;">School enrollment, primary (% net)</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">agri</td>
<td style="text-align: left;">Agriculture, forestry, and fishing, value added (% of GDP)</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">slums</td>
<td style="text-align: left;">Population living in slums (% of urban population)</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">telephone</td>
<td style="text-align: left;">Households with telephones (Landline &amp; Mobile, %)</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">internet</td>
<td style="text-align: left;">Individuals using the Internet (% of population)</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">tax</td>
<td style="text-align: left;">Tax revenue (% of GDP)</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">pop</td>
<td style="text-align: left;">Population, total</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">pop_fem</td>
<td style="text-align: left;">Population, female (% of total population)</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">electricity</td>
<td style="text-align: left;">Access to electricity (% of total population)</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">service</td>
<td style="text-align: left;">Services, value added (% of GDP)</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">oil</td>
<td style="text-align: left;">Oil rents (% of GDP)</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">natural</td>
<td style="text-align: left;">Total natural resources rents (% of GDP)</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">literacy</td>
<td style="text-align: left;">Literacy rate, adult total (% of people ages 15 and above)</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">lit_male</td>
<td style="text-align: left;">Literacy rate, adult male (% of males ages 15 and above)</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">lit_fem</td>
<td style="text-align: left;">Literacy rate, adult female (% of males ages 15 and above)</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">infant</td>
<td style="text-align: left;">Mortality rate, infant (per 1,000 live births)</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">health_ex</td>
<td style="text-align: left;">Current health expenditure (% of GDP)</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">hospital</td>
<td style="text-align: left;">Hospital beds (per 1,000 people)</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">tuberculosis</td>
<td style="text-align: left;">Incidence of tuberculosis (per 100,000 people)</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">life</td>
<td style="text-align: left;">Life expectancy at birth, total (years)</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">life_male</td>
<td style="text-align: left;">Life expectancy at birth, male (years)</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">life_female</td>
<td style="text-align: left;">Life expectancy at birth, female (years)</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">unemploy</td>
<td style="text-align: left;">Unemployed (%)</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">urban</td>
<td style="text-align: left;">Urban population, total (% of total population)</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">attend</td>
<td style="text-align: left;">Births attended by skilled health staff (% of total)</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">prenatal</td>
<td style="text-align: left;">Pregnant women receiving prenatal care of at least four visits</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">military</td>
<td style="text-align: left;">Military Expenditure (% of GDP)</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">un_continent_name</td>
<td style="text-align: left;">Continent</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">un_region_name</td>
<td style="text-align: left;">Region on continent</td>
</tr>
</tbody>
</table>


</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-wdi-codebook-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: WDI Codebook
</figcaption>
</figure>
</div>
</div>
</div>
<p>Again, let’s explore the data set through the <code>view()</code> function:</p>
<p>Now, don’t panic. This data set is big, but you know the basic structure: country by year in rows, and the variables in the column. The value for the variable in a given country in a given year is in the meeting point between row and column.</p>
<p>The data are (yes, the word “data” is plural) organised by country name in the first instance. So the first country you see is Afghanistan. There are multiple rows for Afghanistan, because each row gives you information about the value in a particular year (second column). This is repeated for every country in the world, leading to a total of 10,824 observations, to save you scrolling all the way down. Schematically, the structure of this data set looks as follows:</p>
<div class="custom-html-table">
<div style="width:50%; margin:auto;">
<div class="cell">
<div id="tbl-tscs" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<div aria-describedby="tbl-tscs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">year</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">literacy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">A</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">80</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">A</td>
<td style="text-align: right;">2001</td>
<td style="text-align: right;">81</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">A</td>
<td style="text-align: right;">2002</td>
<td style="text-align: right;">85</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">A</td>
<td style="text-align: right;">2003</td>
<td style="text-align: right;">90</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">B</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">92</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">B</td>
<td style="text-align: right;">2001</td>
<td style="text-align: right;">93</td>
</tr>
<tr class="odd">
<td style="text-align: left; min-width: 1.25in;">B</td>
<td style="text-align: right;">2002</td>
<td style="text-align: right;">95</td>
</tr>
<tr class="even">
<td style="text-align: left; min-width: 1.25in;">B</td>
<td style="text-align: right;">2003</td>
<td style="text-align: right;">99</td>
</tr>
</tbody>
</table>


</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-tscs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Schematic: Time-Series, Cross-Sectional Data
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>When you look at the data set in R, you will see that not every box contains a value - this means that the data are missing for this particular country-year for that particular variable. This is an issue we will be discussing a later stage in more detail, but I can already say now, that this issue is more pronounced in developing countries than in developed ones, and that it often severely limits the variables you can include in the analysis.</p>
<p>Let us conclude today with some more descriptive statistics to get used to entering and executing commands. Say, we want to find out the average GDP per capita of the UK since 1960 (which is when this data set begins, it ends in 2020). To do this, we first need to create a data frame which only contains data for GB. We call this process “subsetting”. The <code>filter</code> function comes out the <code>dplyr</code> package, and takes a particular data frame and filters all those observations which meet the condition specified. We will use this a lot on this module, and so it makes sense to remember this one well:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>GB <span class="ot">&lt;-</span> <span class="fu">filter</span>(world, countrycode<span class="sc">==</span><span class="st">"GBR"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can now produce</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(GB<span class="sc">$</span>gdppc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   1398    4138   18389   20514   39599   50398 </code></pre>
</div>
</div>
<p>and all other descriptive statistics outlined before for “Great Britain”. If you want the number of observations, then you can display them by calling:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(GB<span class="sc">$</span>gdppc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 61</code></pre>
</div>
</div>
<p>In this particular case, it would tell us that we have data for 61 years.</p>
<p>If this all seems a little much at the moment, don’t worry. As we go through the module, R will become much, much easier to handle!</p>
</section>
<section id="book-recommendations" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="book-recommendations">Book Recommendations</h2>
<p>If you want some more material to read up on R, then these are my recommendations:</p>
<ul>
<li><a href="https://warwick.summon.serialssolutions.com/#!/search/document?pn=1&amp;ho=t&amp;include.ft.matches=f&amp;fvf=ContentType,Newspaper%20Article,t%7CContentType,Book%20Review,t&amp;l=en-UK&amp;q=fogarty%20social%20science&amp;id=FETCHMERGED-warwick_catalog_b396978733"><strong><span class="citation" data-cites="fogarty:2023">Fogarty (2023)</span></strong></a>: The best applied R book on the market until my own book comes out.</li>
<li><a href="https://warwick.summon.serialssolutions.com/#!/search/document?pn=1&amp;ho=t&amp;include.ft.matches=f&amp;fvf=ContentType,Newspaper%20Article,t%7CContentType,Book%20Review,t&amp;l=en-UK&amp;q=stinerock%20r&amp;id=FETCHMERGED-warwick_catalog_b396975143"><strong><span class="citation" data-cites="stinerock:2022">Stinerock (2022)</span></strong></a>: Popular with students for good reasons!</li>
<li><a href="https://rc2e.com/"><strong><span class="citation" data-cites="long:2019">Long &amp; Teetor (2019)</span></strong></a>: Some recipes to cook with R</li>
</ul>
<p>Please consult the <a href="https://drfloreiche.github.io/PO33Q/14-bib.html">List of References</a> for full details.</p>
</section>
</section>
<section id="homework-for-week-2" class="level1 unnumbered">
<h1 class="unnumbered">Homework for Week 2</h1>
<p><strong>Students as Learners:</strong></p>
<ul>
<li>Finish this week’s worksheet</li>
<li>Catch up with the <a href="https://rl.talis.com/3/warwick/lists/E5FA4027-27A7-AFB0-AAF4-C891BCCD83E2.html#A818E504-61E9-8D51-7302-6A8066D63982">required literature for this week</a></li>
<li>Read the <a href="https://rl.talis.com/3/warwick/lists/E5FA4027-27A7-AFB0-AAF4-C891BCCD83E2.html#0B69799C-BD38-F4E4-3D53-58E4021B223A">required literature for Week 2</a></li>
<li>Work through the Section <a href="https://drfloreiche.github.io/PO33Q/02-PO33Q.html#principles-of-statistical-inference">Principles of Statistical Inference</a> before coming to the seminar next week</li>
</ul>
<div style="height:1.5em;">

</div>
<p><strong>Students as Researchers:</strong></p>
<ul>
<li>nothing, yet</li>
</ul>
</section>
<section id="glossary" class="level1 unnumbered">
<h1 class="unnumbered">Glossary</h1>
<p>&nbsp;</p>
<div class="glossary-table">
<div class="cell" data-tbl-colwidths="[25,75]">
<div id="tbl-glossary1" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-tbl-colwidths="[25,75]">
<figure class="quarto-float quarto-float-tbl figure">
<div aria-describedby="tbl-glossary1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="cell table table-sm table-striped small">
<colgroup>
<col style="width: 25%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Term</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">analysis</td>
<td style="text-align: left;">A detailed evaluation of data to discover their structure and relevant information to answer a research question</td>
</tr>
<tr class="odd">
<td style="text-align: left;">categorical</td>
<td style="text-align: left;">Describing the qualitative categories of a characteristic, for example different religions</td>
</tr>
<tr class="even">
<td style="text-align: left;">conceptualization</td>
<td style="text-align: left;">Formulating a systematized concept through reasoning about the background concept, in light of the goals of research <span class="citation" data-cites="adcock:2001">(Adcock &amp; Collier, 2001, p. 531)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">continuous</td>
<td style="text-align: left;">Can assume any value within defined measurement boundaries</td>
</tr>
<tr class="even">
<td style="text-align: left;">cross-sectional data</td>
<td style="text-align: left;">Look at different units (or cross-sections) <span class="math inline">\(i\)</span> at a single point in time</td>
</tr>
<tr class="odd">
<td style="text-align: left;">data</td>
<td style="text-align: left;">Derives from the Latin which means . For our purposes it is a collection of numbers (or quantities) for the purpose of analysis</td>
</tr>
<tr class="even">
<td style="text-align: left;">data set</td>
<td style="text-align: left;">A collection of numerical values for individual observations, separated into distinctive variables</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dependent variable</td>
<td style="text-align: left;">Is dependent through some statistical or stochastic process on the value of an independent variable</td>
</tr>
<tr class="even">
<td style="text-align: left;">descriptive statistics</td>
<td style="text-align: left;">Summarise information about the centre and variability of a variable</td>
</tr>
<tr class="odd">
<td style="text-align: left;">discrete</td>
<td style="text-align: left;">The result of a counting process</td>
</tr>
<tr class="even">
<td style="text-align: left;">discussion</td>
<td style="text-align: left;">The purpose of the discussion section in a research project is to interpret the results, explain their implications, compare them with existing literature, and highlight their significance, limitations, and potential for future research</td>
</tr>
<tr class="odd">
<td style="text-align: left;">hypothesis</td>
<td style="text-align: left;">In statistics, a hypothesis is a formal statement about a population parameter or relationship between variables. Hypotheses guide statistical tests to determine whether data support or refute them. The hypothesis suggesting an effect or difference is called the alternative hypothesis. The alternative hypothesis is always paired with a null-hypothesis, suggesting no effect or difference.</td>
</tr>
<tr class="even">
<td style="text-align: left;">independent variable</td>
<td style="text-align: left;">Influences or helps us predict the level of a dependent variable. It is often treated as fixed, or “given” in statistical analysis, and is sometimes also called “explanatory variable”</td>
</tr>
<tr class="odd">
<td style="text-align: left;">literature review</td>
<td style="text-align: left;">An analytical summary of the literature relating to a particular topic with the objective of identifying a gap and thus motivating a research question</td>
</tr>
<tr class="even">
<td style="text-align: left;">mean</td>
<td style="text-align: left;">Is equal to the sum of the observations divided by the number of observations</td>
</tr>
<tr class="odd">
<td style="text-align: left;">measurement</td>
<td style="text-align: left;">Refers to the selection of a measure or variable</td>
</tr>
<tr class="even">
<td style="text-align: left;">median</td>
<td style="text-align: left;">Separates the lower half from the upper half of observations</td>
</tr>
<tr class="odd">
<td style="text-align: left;">method</td>
<td style="text-align: left;">A tool for systematic investigation</td>
</tr>
<tr class="even">
<td style="text-align: left;">mode</td>
<td style="text-align: left;">Is the most frequently occurring value</td>
</tr>
<tr class="odd">
<td style="text-align: left;">quartile</td>
<td style="text-align: left;">Divides ordered data into four equal parts and indicates the percentage of observations that falls into the respective quartile and below</td>
</tr>
<tr class="even">
<td style="text-align: left;">range</td>
<td style="text-align: left;">The distance between the minimum and maximum values.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">research question</td>
<td style="text-align: left;">A specific enquiry relating to a particular topic or subject. It forms the starting point of the research cycle</td>
</tr>
<tr class="even">
<td style="text-align: left;">secondary data</td>
<td style="text-align: left;">Secondary data are data which have been collected by somebody else</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Social Sciences</td>
<td style="text-align: left;">Are concerned with the study of society and seek to scientifically describe and explain the behaviour of actors</td>
</tr>
<tr class="even">
<td style="text-align: left;">standard deviation</td>
<td style="text-align: left;">The standard deviation s is defined as <span class="math display">\[\begin{equation*}s=\sqrt{\frac{\text{sum of squared deviations}}{\text{sample size} -1}}=\sqrt{\frac{\Sigma(y_{i} - \bar{y})^2}{n-1}}\end{equation*}\]</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">theory</td>
<td style="text-align: left;">A formal set of ideas that is intended to explain why something happens or exists <span class="citation" data-cites="oxford">(Oxford Learner’s Dictionaries, n.d.)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">variable</td>
<td style="text-align: left;">An element of a conceptual component which varies. We also call these “measures”</td>
</tr>
<tr class="odd">
<td style="text-align: left;">variance</td>
<td style="text-align: left;">Is equal to the squared standard deviation</td>
</tr>
</tbody>
</table>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-glossary1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: Glossary Week 1
</figcaption>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
</section>
<section id="flashcards" class="level1 unnumbered">
<h1 class="unnumbered">Flashcards</h1>
<p>In this section you will find some flashcards each week. These should help you learn the purpose of R functions on PO33Q. These are divided into:</p>
<ul>
<li>New Functions this week, containing only those functions that we encounter for the first time</li>
<li>All Functions this week, containing all functions we have used in that particular week</li>
<li>All Functions up to now, containing all functions used on the module up to that particular week.</li>
</ul>
<p>You can download a .csv file containing the functions and the descriptions for each of these underneath the flashcard window.</p>
<p>Should you wish to create your own flashcards, for example, with more difficult-to-remember functions, I have written <a href="https://drfloreiche.github.io/POQFlashcards/05-YourOwn.html">some instructions</a> how to go about it.</p>
<div class="flashcard">
<details>
<summary>
R Functions This Week
</summary>
<div style="padding-bottom:56.25%; position:relative; display:block; width: 100%">
<p><iframe width="100%" height="100%" src="files/flashcards/PO33Q_Week 1_All.html" frameborder="0" allowfullscreen="" style="position:absolute; top:0; left: 0"> </iframe></p>
</div>
<p>
&nbsp;
</p>
The data are available as a <a href="files/excelfiles/PO33Q_Week 1_All.csv">.csv file</a>.
</details>
</div>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list" style="display: none">
<div id="ref-adcock:2001" class="csl-entry" role="listitem">
Adcock, R., &amp; Collier, D. (2001). <span class="nocase">Measurement Validity: A Shared Standard for Qualitative and Quantitative Research</span>. <em><span>American Political Science Review</span></em>, <em>95</em>(3), 529–546. <a href="https://doi.org/10.1017/S0003055401003100">https://doi.org/10.1017/S0003055401003100</a>
</div>
<div id="ref-fogarty:2023" class="csl-entry" role="listitem">
Fogarty, B. J. (2023). <em><span>Quantitative Social Science Data With R</span></em> (Second Edition). Thousand Oaks, <span>CA</span>: Sage.
</div>
<div id="ref-king:1995" class="csl-entry" role="listitem">
King, G. (1995). <span class="nocase">Replication, replication</span>. <em>PS: Political Science and Politics</em>, <em>28</em>(3), 541–559. <a href="https://doi.org/10.2307/420301">https://doi.org/10.2307/420301</a>
</div>
<div id="ref-long:2019" class="csl-entry" role="listitem">
Long, J. D., &amp; Teetor, P. (2019). <em><span class="nocase">R cookbook: proven recipes for data analysis, statistics, and graphics</span></em>. O’Reilly Media.
</div>
<div id="ref-marshall:2020" class="csl-entry" role="listitem">
Marshall, M. G., &amp; Gurr, T. R. (2020). <em><span class="nocase">Polity V Project: Political Regime Characteristics and Transitions, 1800-2018</span></em>.
</div>
<div id="ref-boix:2022" class="csl-entry" role="listitem">
Miller, M., Boix, C., &amp; Rosato, S. (2022). <em><span class="nocase">Boix-Miller-Rosato Dichotomous Coding of Democracy, 1800-2020</span></em> (Version V1) [Data set]. Harvard Dataverse. <a href="https://doi.org/10.7910/DVN/FENWWR">https://doi.org/10.7910/DVN/FENWWR</a>
</div>
<div id="ref-oxford" class="csl-entry" role="listitem">
Oxford Learner’s Dictionaries. (n.d.). <a href="https://www.oxfordlearnersdictionaries.com/">https://www.oxfordlearnersdictionaries.com/</a>
</div>
<div id="ref-stinerock:2022" class="csl-entry" role="listitem">
Stinerock, R. (2022). <em><span class="nocase">Statistics with R – A Beginner’s Guide</span></em> (Second Edition). Thousand Oaks, <span>CA</span>: Sage.
</div>
<div id="ref-worldbank:2024" class="csl-entry" role="listitem">
The World Bank. (n.d.). <em><span>World Development Indicators</span></em>. <a href="https://datacatalog.worldbank.org/dataset/world-development-indicators">https://datacatalog.worldbank.org/dataset/world-development-indicators</a>
</div>
</div>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Source: https://www.garrickadenbuie.com/project/rsthemes/<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>To “call” means to execute a command.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const buttons = document.querySelectorAll(".delayed-download");

    buttons.forEach(function (btn) {
      const releaseDate = new Date(btn.dataset.date);
      const now = new Date();

      if (now >= releaseDate) {
        btn.classList.remove("disabled");
        btn.setAttribute("aria-disabled", "false");
        btn.setAttribute("href", btn.dataset.path);
        btn.setAttribute("download", btn.dataset.path.split('/').pop());
        btn.innerHTML = btn.dataset.label || "📄 Download Document";
      }
    });
  });
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link" aria-label="Preface">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">Preface</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./02-PO33Q.html" class="pagination-link" aria-label="Week 2">
        <span class="nav-page-text"><span class="chapter-title">Week 2</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>