<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Exercises |  PO33Q: Determinants of Democracy ‚Äì   Analysing Emergence, Survival, and Fall</title>
<meta name="generator" content="bookdown 0.43 with bs4_book()">
<meta property="og:title" content="Exercises |  PO33Q: Determinants of Democracy ‚Äì   Analysing Emergence, Survival, and Fall">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Exercises |  PO33Q: Determinants of Democracy ‚Äì   Analysing Emergence, Survival, and Fall">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/Lexend-0.4.10/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.9.0/transition.js"></script><script src="libs/bs3compat-0.9.0/tabs.js"></script><script src="libs/bs3compat-0.9.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
          margin-bottom: 0em;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
<meta name="description" content="The Data Set  Use the data set called prz.dta which is available in the Downloads Section. This is the data set used in the book ‚ÄúDemocracy and Development‚Äù (Przeworski et al., 2000). Deposit this...">
<meta property="og:description" content="The Data Set  Use the data set called prz.dta which is available in the Downloads Section. This is the data set used in the book ‚ÄúDemocracy and Development‚Äù (Przeworski et al., 2000). Deposit this...">
<meta name="twitter:description" content="The Data Set  Use the data set called prz.dta which is available in the Downloads Section. This is the data set used in the book ‚ÄúDemocracy and Development‚Äù (Przeworski et al., 2000). Deposit this...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title=""><p><img src="images/Crest_white.png" width="75" style="display:block; margin:auto; margin-bottom:3em;"> PO33Q: Determinants of Democracy ‚Äì <br> Analysing Emergence, Survival, and Fall</p></a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="" href="website-features.html">Website Features</a></li>
<li><a class="" href="accessibility.html">Accessibility</a></li>
<li class="book-part">Week 1</li>
<li><a class="" href="introduction-to-r.html">Introduction to R</a></li>
<li><a class="" href="homework-for-week-2.html">Homework for Week 2</a></li>
<li><a class="" href="glossary.html">Glossary</a></li>
<li><a class="" href="flashcards.html">Flashcards</a></li>
<li class="book-part">Week 2</li>
<li><a class="" href="principles-of-statistical-inference.html">Principles of Statistical Inference</a></li>
<li><a class="" href="linear-regression---theory.html">Linear Regression - Theory</a></li>
<li><a class="" href="linear-regression-application.html">Linear Regression ‚Äì Application</a></li>
<li><a class="" href="homework-for-week-3.html">Homework for Week 3</a></li>
<li><a class="" href="glossary-1.html">Glossary</a></li>
<li><a class="" href="flashcards-1.html">Flashcards</a></li>
<li class="book-part">Week 3</li>
<li><a class="" href="probit---theory.html">Probit - Theory</a></li>
<li><a class="" href="probit-application.html">Probit ‚Äì Application</a></li>
<li><a class="" href="exercises.html">Exercises</a></li>
<li><a class="" href="homework-for-week-4.html">Homework for Week 4</a></li>
<li><a class="" href="glossary-2.html">Glossary</a></li>
<li><a class="" href="flashcards-2.html">Flashcards</a></li>
<li class="book-part">Week 4</li>
<li><a class="" href="missing-data.html">Missing Data</a></li>
<li><a class="" href="model-building.html">Model Building</a></li>
<li><a class="" href="homework-for-week-5.html">Homework for Week 5</a></li>
<li><a class="" href="glossary-3.html">Glossary</a></li>
<li><a class="" href="flashcards-3.html">Flashcards</a></li>
<li class="book-part">Week 5</li>
<li><a class="" href="consolidation.html">Consolidation</a></li>
<li><a class="" href="exercises-1.html">Exercises</a></li>
<li><a class="" href="homework-for-week-7.html">Homework for Week 7</a></li>
<li><a class="" href="glossary-4.html">Glossary</a></li>
<li><a class="" href="flashcards-4.html">Flashcards</a></li>
<li class="book-part">Week 7</li>
<li><a class="" href="markov-transition-models.html">Markov Transition Models</a></li>
<li><a class="" href="model-fit-in-binary-response-models.html">Model Fit in Binary Response Models9</a></li>
<li><a class="" href="joint-estimation-of-emergence-and-survival.html">Joint Estimation of Emergence and Survival</a></li>
<li><a class="active" href="exercises-2.html">Exercises</a></li>
<li><a class="" href="homework-for-week-8.html">Homework for Week 8</a></li>
<li><a class="" href="glossary-5.html">Glossary</a></li>
<li><a class="" href="flashcards-5.html">Flashcards</a></li>
<li class="book-part">Downloads</li>
<li><a class="" href="downloads.html">Downloads</a></li>
<li class="book-part">Glossary</li>
<li><a class="" href="glossary-6.html">Glossary</a></li>
<li class="book-part">List of References</li>
<li><a class="" href="list-of-references.html">List of References</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><script src="sidebar-link.js"></script><div id="exercises-2" class="section level1 unnumbered">
<h1>Exercises<a class="anchor" aria-label="anchor" href="#exercises-2"><i class="fas fa-link"></i></a>
</h1>
<div id="the-data-set" class="section level2 unnumbered">
<h2>The Data Set<a class="anchor" aria-label="anchor" href="#the-data-set"><i class="fas fa-link"></i></a>
</h2>
<p>
Use the data set called <code>prz.dta</code> which is available in the <a href="https://drfloreiche.github.io/PO33Q/downlads.html">Downloads Section</a>. This is the data set used in the book ‚ÄúDemocracy and Development‚Äù <span class="citation">(Przeworski et al., 2000)</span>. Deposit this in an appropriate working directory and import the data set into a data frame called <code>prz</code>. We will only be looking at a few variables ‚Äì democ = 1 if democracy, 0 otherwise; gdpw - GDP per worker; g = growth rate; oil = 1 if oil producer, 0 otherwise.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;I have taken these exercises from some material written by &lt;a href="https://mattgolder.com/"&gt;Matt Golder&lt;/a&gt; from whom I learned all this many moons ago.&lt;/p&gt;'><sup>11</sup></a></p>
<hr>
</div>
<div id="basics" class="section level2 unnumbered">
<h2>Basics<a class="anchor" aria-label="anchor" href="#basics"><i class="fas fa-link"></i></a>
</h2>
<div class="bulb">
<p>In these exercises, I am taking you step-by-step to the final Markov Transition Model. Only the code for Exercises 3 and 4 correspond to what you will be doing in the final assessment.</p>
</div>
<ol style="list-style-type: decimal">
<li><p>Run a probit model where <code>democ</code> is the dependent variable and <code>g</code>, <code>gdpw</code> and <code>oil</code> are the independent variables. Put the results in column 1 of Table 1. What is (possibly) wrong with this approach? Interpret the coefficients on one or two of the variables.</p></li>
<li>
<p>Run the same probit model as before but now include a lagged dependent variable. To create the lagged dependent variable, call:</p>
<div class="sourceCode" id="cb135"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prz</span> <span class="op">&lt;-</span> <span class="va">prz</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">country</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>l.democ <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/lead-lag.html">lag</a></span><span class="op">(</span><span class="va">democ</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Put the results in column two of Table 1. What are we assuming by including a lagged dependent variable? Do you think that this is appropriate here?</p>
</li>
<li><p>Now estimate a probit ‚Äútransition to democracy‚Äù model i.e.¬†how do growth, wealth and oil affect the probability that a country is a democracy this year given that it was a dictatorship last year. We are also lagging the independent variables by one year. Put the results in column 3 of Table 1. Interpret the sign of the coefficients on each independent variable.</p></li>
<li><p>Now estimate a probit ‚Äúsurvival of democracy‚Äù model i.e.¬†how do (lagged) growth, wealth and oil affect the probability that a country is a democracy this year given that it was a democracy last year. Put the results in column 4 of Table 1. Interpret the sign of the coefficients on each independent variable.</p></li>
</ol>
<hr>
</div>
<div id="advanced" class="section level2 unnumbered">
<h2>Advanced<a class="anchor" aria-label="anchor" href="#advanced"><i class="fas fa-link"></i></a>
</h2>
<p>
This section draws on the instructions for joint estimation.</p>
<ol start="5" style="list-style-type: decimal">
<li>Now interact all the lagged independent variables with the lagged dependent variable. Estimate a fully interactive model and include all the constitutive terms. Put the results in column 5 of Table 1. What is the relationship between these coefficients and those in the previous two columns? Is there any extra information provided by this full interaction model that was not available from the previous two models?</li>
<li>Now consider the straight probit model, the probit model with the lagged dependent variable, and the full interaction model. Produce the ROC curve for each of these models. Interpret a point on one of these curves. What do the ROC curves tell you about the fit of these three models?</li>
</ol>
<p>You can find the solutions to these exercises in the respective RScript in the <a href="https://drfloreiche.github.io/PO33Q/downloads.html">Downloads Section</a>.</p>
<p>¬†</p>
<div class="custom-html-table" style="width: 100%; margin: 0 auto; font-size: large;">
<div class="inline-table"><table style="width: 100%; border-collapse: collapse;" class="table table-sm">
<thead><tr>
<th style="text-align: left; padding-left: 0.5em;">
</th>
<th style="text-align: center;">
Probit (lagged)
</th>
<th style="text-align: center;">
Emergence
</th>
<th style="text-align: center;">
Survival
</th>
<th style="text-align: center;">
Full Interaction
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align: left; padding-left: 0.5em;">
Growth
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
</tr>
<tr>
<td style="text-align: left; padding-left: 0.5em;">
Wealth
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
</tr>
<tr>
<td style="text-align: left; padding-left: 0.5em;">
Oil
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
</tr>
<tr>
<td style="text-align: left; padding-left: 0.5em;">
L.Democracy
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
</tr>
<tr>
<td style="text-align: left; padding-left: 0.5em;">
Growth*L.Democracy
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
</tr>
<tr>
<td style="text-align: left; padding-left: 0.5em;">
Wealth*L.Democracy
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
</tr>
<tr>
<td style="text-align: left; padding-left: 0.5em;">
Oil*L.Democracy
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
</tr>
<tr>
<td style="text-align: left; padding-left: 0.5em;">
Constant
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
</tr>
<tr style="border-top: 2px solid;">
<td style="text-align: left; padding-left: 0.5em;">
Observations
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
</tr>
<tr>
<td style="text-align: left; padding-left: 0.5em;">
ROC
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
<td style="text-align: center;">
</td>
</tr>
</tbody>
</table></div>
</div>
<p>¬†</p>
<div class="baser">
<details><summary><code>modelsummary</code> code for the Results Table
</summary><div class="sourceCode" id="cb136"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set Working Directory</span></span>
<span><span class="co">########################</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># PACKAGES</span></span>
<span><span class="co">############</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://haven.tidyverse.org">haven</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">stargazer</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Import Data</span></span>
<span><span class="co">#############</span></span>
<span></span>
<span><span class="va">prz</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://haven.tidyverse.org/reference/read_dta.html">read_dta</a></span><span class="op">(</span><span class="st">"prz.dta"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span><span class="co"># Exercise 1</span></span>
<span><span class="co">#####################</span></span>
<span></span>
<span></span>
<span><span class="va">democracy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span><span class="op">(</span><span class="va">democ</span> <span class="op">~</span> <span class="va">g</span> <span class="op">+</span> <span class="va">gdpw</span> <span class="op">+</span> <span class="va">oil</span>, </span>
<span>                 data <span class="op">=</span> <span class="va">prz</span>,</span>
<span>                 na.action <span class="op">=</span> <span class="va">na.exclude</span>,</span>
<span>                 family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html">binomial</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"probit"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Exercise 2</span></span>
<span><span class="co">#####################</span></span>
<span></span>
<span></span>
<span><span class="va">prz</span> <span class="op">&lt;-</span> <span class="va">prz</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">country</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>l.democ <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/lead-lag.html">lag</a></span><span class="op">(</span><span class="va">democ</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span><span class="va">dynamic</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span><span class="op">(</span><span class="va">democ</span> <span class="op">~</span> <span class="va">g</span> <span class="op">+</span> <span class="va">gdpw</span> <span class="op">+</span> <span class="va">oil</span> <span class="op">+</span> <span class="va">l.democ</span>, </span>
<span>               data <span class="op">=</span> <span class="va">prz</span>,</span>
<span>               na.action <span class="op">=</span> <span class="va">na.exclude</span>,</span>
<span>               family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html">binomial</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"probit"</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span></span>
<span><span class="co"># Exercise 3</span></span>
<span><span class="co">#####################</span></span>
<span></span>
<span><span class="va">prz</span> <span class="op">&lt;-</span> <span class="va">prz</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">country</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>l.g <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/lead-lag.html">lag</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">prz</span> <span class="op">&lt;-</span> <span class="va">prz</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">country</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>l.gdpw <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/lead-lag.html">lag</a></span><span class="op">(</span><span class="va">gdpw</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">prz</span> <span class="op">&lt;-</span> <span class="va">prz</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">country</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>l.oil <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/lead-lag.html">lag</a></span><span class="op">(</span><span class="va">oil</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">prz_democ0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">prz</span>, <span class="va">l.democ</span><span class="op">==</span><span class="fl">0</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">emergence</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span><span class="op">(</span><span class="va">democ</span> <span class="op">~</span> <span class="va">l.g</span> <span class="op">+</span> <span class="va">l.gdpw</span> <span class="op">+</span> <span class="va">l.oil</span>, </span>
<span>                 data <span class="op">=</span> <span class="va">prz_democ0</span>,</span>
<span>                 na.action <span class="op">=</span> <span class="va">na.exclude</span>,</span>
<span>                 family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html">binomial</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"probit"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Exercise 4</span></span>
<span><span class="co">#####################</span></span>
<span></span>
<span><span class="va">prz_democ1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">prz</span>, <span class="va">l.democ</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">survive</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span><span class="op">(</span><span class="va">democ</span> <span class="op">~</span> <span class="va">l.g</span> <span class="op">+</span> <span class="va">l.gdpw</span> <span class="op">+</span> <span class="va">l.oil</span>, </span>
<span>               data <span class="op">=</span> <span class="va">prz_democ1</span>,</span>
<span>               na.action <span class="op">=</span> <span class="va">na.exclude</span>,</span>
<span>               family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html">binomial</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"probit"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Exercise 5</span></span>
<span><span class="co">#####################</span></span>
<span></span>
<span><span class="va">prz</span><span class="op">$</span><span class="va">l.democgdpw</span> <span class="op">&lt;-</span> <span class="va">prz</span><span class="op">$</span><span class="va">l.democ</span> <span class="op">*</span> <span class="va">prz</span><span class="op">$</span><span class="va">l.gdpw</span></span>
<span><span class="va">prz</span><span class="op">$</span><span class="va">l.democg</span> <span class="op">&lt;-</span> <span class="va">prz</span><span class="op">$</span><span class="va">l.democ</span> <span class="op">*</span> <span class="va">prz</span><span class="op">$</span><span class="va">l.g</span></span>
<span><span class="va">prz</span><span class="op">$</span><span class="va">l.democoil</span> <span class="op">&lt;-</span> <span class="va">prz</span><span class="op">$</span><span class="va">l.democ</span> <span class="op">*</span> <span class="va">prz</span><span class="op">$</span><span class="va">l.oil</span></span>
<span></span>
<span></span>
<span><span class="va">joint</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span><span class="op">(</span><span class="va">democ</span> <span class="op">~</span> <span class="va">l.g</span> <span class="op">+</span> <span class="va">l.gdpw</span> <span class="op">+</span> <span class="va">l.oil</span> <span class="op">+</span> <span class="va">l.democ</span> <span class="op">+</span> <span class="va">l.democg</span> <span class="op">+</span> <span class="va">l.democgdpw</span> <span class="op">+</span> <span class="va">l.democoil</span>, </span>
<span>             data <span class="op">=</span> <span class="va">prz</span>,</span>
<span>             na.action <span class="op">=</span> <span class="va">na.exclude</span>,</span>
<span>             family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html">binomial</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"probit"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Exercise 6</span></span>
<span><span class="co">#####################</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://xrobin.github.io/pROC/">pROC</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Democracy model: </span></span>
<span></span>
<span><span class="va">prob_democracy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">democracy</span>, type<span class="op">=</span><span class="st">"response"</span><span class="op">)</span></span>
<span><span class="va">prz</span><span class="op">$</span><span class="va">prob_democracy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">prob_democracy</span><span class="op">)</span></span>
<span></span>
<span><span class="va">roc_democracy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/pROC/man/roc.html">roc</a></span><span class="op">(</span><span class="va">prz</span><span class="op">$</span><span class="va">democ</span>, <span class="va">prz</span><span class="op">$</span><span class="va">prob_democracy</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Dynamic Model</span></span>
<span></span>
<span><span class="va">prob_dynamic</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">dynamic</span>, type<span class="op">=</span><span class="st">"response"</span><span class="op">)</span></span>
<span><span class="va">prz</span><span class="op">$</span><span class="va">prob_dynamic</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">prob_dynamic</span><span class="op">)</span></span>
<span></span>
<span><span class="va">roc_dynamic</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/pROC/man/roc.html">roc</a></span><span class="op">(</span><span class="va">prz</span><span class="op">$</span><span class="va">democ</span>, <span class="va">prz</span><span class="op">$</span><span class="va">prob_dynamic</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># emergence model</span></span>
<span><span class="va">prob_emergence</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">emergence</span>, type<span class="op">=</span><span class="st">"response"</span><span class="op">)</span></span>
<span><span class="va">prz_democ0</span><span class="op">$</span><span class="va">prob_emergence</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">prob_emergence</span><span class="op">)</span></span>
<span></span>
<span><span class="va">roc_emergence</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/pROC/man/roc.html">roc</a></span><span class="op">(</span><span class="va">prz_democ0</span><span class="op">$</span><span class="va">democ</span>, <span class="va">prz_democ0</span><span class="op">$</span><span class="va">prob_emergence</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># survive model</span></span>
<span></span>
<span><span class="va">prob_survive</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">survive</span>, type<span class="op">=</span><span class="st">"response"</span><span class="op">)</span></span>
<span><span class="va">prz_democ1</span><span class="op">$</span><span class="va">prob_survive</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">prob_survive</span><span class="op">)</span></span>
<span></span>
<span><span class="va">roc_survive</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/pROC/man/roc.html">roc</a></span><span class="op">(</span><span class="va">prz_democ1</span><span class="op">$</span><span class="va">democ</span>, <span class="va">prz_democ1</span><span class="op">$</span><span class="va">prob_survive</span><span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span><span class="co"># Joint Model</span></span>
<span></span>
<span></span>
<span><span class="va">prob_joint</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">joint</span>, type<span class="op">=</span><span class="st">"response"</span><span class="op">)</span></span>
<span><span class="va">prz</span><span class="op">$</span><span class="va">prob_joint</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">prob_joint</span><span class="op">)</span></span>
<span></span>
<span><span class="va">roc_joint</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/pROC/man/roc.html">roc</a></span><span class="op">(</span><span class="va">prz</span><span class="op">$</span><span class="va">democ</span>, <span class="va">prz</span><span class="op">$</span><span class="va">prob_joint</span><span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span><span class="co">## `modelsummary`</span></span>
<span></span>
<span><span class="va">models</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>  <span class="va">democracy</span>, <span class="va">dynamic</span>, <span class="va">emergence</span>, <span class="va">survive</span>, <span class="va">joint</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">cm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span><span class="st">'g'</span><span class="op">=</span><span class="st">"Growth rate"</span>,</span>
<span><span class="st">'gdpw'</span><span class="op">=</span><span class="st">"GDP per Worker"</span>,</span>
<span><span class="st">'oil'</span><span class="op">=</span><span class="st">"Oil Producer"</span>,</span>
<span><span class="st">'l.g'</span><span class="op">=</span><span class="st">"Lagged Growth rate"</span>,</span>
<span><span class="st">'l.gdpw'</span><span class="op">=</span><span class="st">"Lagged GDP per Worker"</span>,</span>
<span><span class="st">'l.oil'</span><span class="op">=</span><span class="st">"Lagged Oil Producer"</span>,</span>
<span><span class="st">'(Intercept)'</span> <span class="op">=</span> <span class="st">'Constant'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">rows</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span></span>
<span>  <span class="st">'~term'</span> <span class="op">=</span> <span class="st">'ROC Curve'</span>,</span>
<span>  `~(1)` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/pROC/man/auc.html">auc</a></span><span class="op">(</span><span class="va">roc_democracy</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span>,</span>
<span>  `~(2)` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/pROC/man/auc.html">auc</a></span><span class="op">(</span><span class="va">roc_dynamic</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span>,</span>
<span>  `~(3)` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/pROC/man/auc.html">auc</a></span><span class="op">(</span><span class="va">roc_emergence</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span>,</span>
<span>  `~(4)` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/pROC/man/auc.html">auc</a></span><span class="op">(</span><span class="va">roc_survive</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span>,</span>
<span>  `~(5)` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/pROC/man/auc.html">auc</a></span><span class="op">(</span><span class="va">roc_joint</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">rows</span>, <span class="st">'position'</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">15</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://modelsummary.com/man/modelsummary.html">modelsummary</a></span><span class="op">(</span><span class="va">models</span>, </span>
<span>             gof_omit <span class="op">=</span> <span class="st">'DF|Deviance|Log.Lik|F|AIC|BIC|RMSE'</span>, </span>
<span>             add_rows <span class="op">=</span> <span class="va">rows</span>,</span>
<span><span class="co">#            output = "table.docx",</span></span>
<span>             stars<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>             coef_map <span class="op">=</span> <span class="va">cm</span><span class="op">)</span><span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://vincentarelbundock.github.io/tinytable/man/group_tt.html">group_tt</a></span><span class="op">(</span>j <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">" "</span> <span class="op">=</span> <span class="fl">1</span>, <span class="st">"Dependent Variable:&lt;br&gt;Democracy"</span> <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://vincentarelbundock.github.io/tinytable/man/style_tt.html">style_tt</a></span><span class="op">(</span>tabularray_inner <span class="op">=</span> <span class="st">"columnsep=10pt"</span><span class="op">)</span></span></code></pre></div>
</details>
</div>
<hr>
</div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const buttons = document.querySelectorAll(".delayed-download");

    buttons.forEach(function (btn) {
      const releaseDate = new Date(btn.dataset.date);
      const now = new Date();

      if (now >= releaseDate) {
        btn.classList.remove("disabled");
        btn.setAttribute("aria-disabled", "false");
        btn.setAttribute("href", btn.dataset.path);
        btn.setAttribute("download", btn.dataset.path.split('/').pop());
        btn.innerHTML = btn.dataset.label || "üìÑ Download Document";
      }
    });
  });
</script><div class="chapter-nav">
<div class="prev"><a href="joint-estimation-of-emergence-and-survival.html">Joint Estimation of Emergence and Survival</a></div>
<div class="next"><a href="homework-for-week-8.html">Homework for Week 8</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#exercises-2">Exercises</a></li>
<li><a class="nav-link" href="#the-data-set">The Data Set</a></li>
<li><a class="nav-link" href="#basics">Basics</a></li>
<li><a class="nav-link" href="#advanced">Advanced</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong><p><img src="images/Crest_white.png" width="75" style="display:block; margin:auto; margin-bottom:3em;"> PO33Q: Determinants of Democracy ‚Äì <br> Analysing Emergence, Survival, and Fall</p></strong>" was written by </p>
<p><strong>Dr Flo Reiche</strong> <br><strong>Department of Politics and International Studies</strong> <br><strong>University of Warwick</strong></p>. It was last built on 07 August, 2025.
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
